<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏ß‡∏±‡∏î‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤</title>
<style>
body{
  font-family: Arial;
  text-align:center;
  margin-top:100px;
  background:#f4f4f4;
}
button{
  padding:15px 30px;
  font-size:18px;
  border:none;
  border-radius:10px;
  background:#ff4d6d;
  color:white;
  cursor:pointer;
}
#result{
  margin-top:20px;
  font-size:20px;
}
</style>
</head>
<body>

<h1>‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô ‚ù§Ô∏è</h1>
<button onclick="getLocation()">‡∏Å‡∏î‡πÄ‡∏•‡∏¢</button>
<div id="result"></div>

<script>
// üî• ‡πÉ‡∏™‡πà‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
const ownerLat = 14.3514186;   // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û
const ownerLon = 99.8865695;

// ‡∏™‡∏π‡∏ï‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á (Haversine)
function calculateDistance(lat1, lon1, lat2, lon2){
  const R = 6371; // ‡∏£‡∏±‡∏®‡∏°‡∏µ‡πÇ‡∏•‡∏Å (km)
  const dLat = (lat2-lat1) * Math.PI/180;
  const dLon = (lon2-lon1) * Math.PI/180;
  const a =
    Math.sin(dLat/2) * Math.sin(dLat/2) +
    Math.cos(lat1 * Math.PI/180) *
    Math.cos(lat2 * Math.PI/180) *
    Math.sin(dLon/2) * Math.sin(dLon/2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  return R * c;
}

function getLocation(){
  if(navigator.geolocation){
    navigator.geolocation.getCurrentPosition(position => {
      const userLat = position.coords.latitude;
      const userLon = position.coords.longitude;

      const distance = calculateDistance(ownerLat, ownerLon, userLat, userLon);

      document.getElementById("result").innerHTML =
        "‡∏≠‡πâ‡∏ß‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤ " + distance.toFixed(2) + " ‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏°‡∏ï‡∏£ üíï";
    },
    () => {
      document.getElementById("result").innerHTML =
        "‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞ ü•∫";
    });
  } else {
    alert("‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö GPS");
  }
}
</script>

</body>
</html>
