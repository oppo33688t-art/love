<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏´‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô‡∏ô‡∏∞ üíï</title>

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  text-align:center;
  background: linear-gradient(135deg,#ff9eb5,#ffc3d1);
  color:white;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  height:100vh;
}

h1{
  font-size:28px;
}

button{
  padding:15px 30px;
  font-size:18px;
  border:none;
  border-radius:12px;
  background:white;
  color:#ff4d6d;
  cursor:pointer;
  margin-top:20px;
  transition:0.3s;
}

button:hover{
  transform:scale(1.1);
}

#result{
  margin-top:30px;
  font-size:20px;
  max-width:300px;
}

.heart{
  position:fixed;
  font-size:20px;
  animation:float 3s linear infinite;
}

@keyframes float{
  from{ transform:translateY(0); opacity:1;}
  to{ transform:translateY(-600px); opacity:0;}
}
</style>
</head>
<body>

<h1>‡∏Å‡∏î‡∏î‡∏π‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏´‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô üíñ</h1>
<button onclick="getLocation()">‡∏Å‡∏î‡πÄ‡∏•‡∏¢</button>
<div id="result"></div>

<script>

// üî• ‡πÉ‡∏™‡πà‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
const ownerLat = 14.3514186;  // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
const ownerLon = 99.8865695; // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

function calculateDistance(lat1, lon1, lat2, lon2){
  const R = 6371;
  const dLat = (lat2-lat1) * Math.PI/180;
  const dLon = (lon2-lon1) * Math.PI/180;
  const a =
    Math.sin(dLat/2) * Math.sin(dLat/2) +
    Math.cos(lat1 * Math.PI/180) *
    Math.cos(lat2 * Math.PI/180) *
    Math.sin(dLon/2) * Math.sin(dLon/2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  return R * c;
}

function getLocation(){
  if(navigator.geolocation){
    navigator.geolocation.getCurrentPosition(position => {
      const userLat = position.coords.latitude;
      const userLon = position.coords.longitude;

      const distance = calculateDistance(ownerLat, ownerLon, userLat, userLon);
      const km = distance.toFixed(2);

      let message = "";

      if (distance >= 500) {
        message = "‡∏≠‡∏î‡∏ó‡∏ô‡∏£‡∏≠‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏ô‡∏∞‡∏≠‡πâ‡∏ß‡∏ô‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÄ‡∏Ñ‡πâ‡∏≤‡∏à‡∏∞‡πÑ‡∏õ‡∏´‡∏≤‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡πÄ‡∏•‡∏¢ ü•∫üíñ";
      }
      else if (distance >= 250) {
        message = "‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏Å‡πá‡πÑ‡∏î‡πâ‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß üíû";
      }
      else if (distance <= 100) {
        message = "‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏¢‡πâ üéâüíï";
        createHearts();
      }
      else {
        message = "‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏ô‡∏∞ üíï";
      }

      document.getElementById("result").innerHTML =
        "‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏´‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô " + km + " ‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏°‡∏ï‡∏£<br><br>" + message;

    },
    () => {
      document.getElementById("result").innerHTML =
        "‡∏Å‡∏î‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞ ü•∫";
    });
  }
}

function createHearts(){
  for(let i=0;i<15;i++){
    const heart = document.createElement("div");
    heart.className="heart";
    heart.innerHTML="üíñ";
    heart.style.left=Math.random()*100+"%";
    heart.style.bottom="0";
    heart.style.animationDuration=(2+Math.random()*2)+"s";
    document.body.appendChild(heart);

    setTimeout(()=>{ heart.remove(); },3000);
  }
}

</script>

</body>
</html>
